{"ast":null,"code":"var _jsxFileName = \"D:\\\\Assignments\\\\shibili-ai-resume-builder\\\\frontend\\\\src\\\\components\\\\ResumeBuilder.js\",\n  _s = $RefreshSig$();\n// src/components/ResumeBuilder.jsx\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../api\"; // your axios instance\nimport \"../styles/ResumeBuilder.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResumeBuilder = () => {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    name: \"\",\n    emailId: \"\",\n    linkedIn: \"\",\n    portfolioLink: \"\",\n    phoneNo: \"\",\n    role: \"\",\n    totalExperienceYear: \"\",\n    summary: \"\",\n    education: [{\n      institute: \"\",\n      city: \"\",\n      startYear: \"\",\n      endYear: \"\",\n      eduType: \"\",\n      department: \"\",\n      score: \"\"\n    }],\n    experience: [{\n      role: \"\",\n      company: \"\",\n      duration: \"\",\n      activities: \"\"\n    }],\n    projects: [{\n      name: \"\",\n      description: \"\",\n      technologies: \"\",\n      keyPoints: [\"\"],\n      link: \"\"\n    }],\n    certificates: [{\n      title: \"\",\n      issuedBy: \"\",\n      issuedOn: \"\",\n      credential: \"\"\n    }],\n    skills: [\"\"],\n    highestEducation: \"\"\n  });\n  const [gensummary, setSummary] = useState(\"\");\n  const [summaryLoading, setSummaryLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // scalar setter\n  const setScalar = (key, value) => setForm(s => ({\n    ...s,\n    [key]: value\n  }));\n\n  // update any array-based field\n  const updateArrayField = (section, index, field, value) => {\n    const copy = [...form[section]];\n    if (field === null) {\n      copy[index] = value;\n    } else {\n      copy[index] = {\n        ...copy[index],\n        [field]: value\n      };\n    }\n    setForm({\n      ...form,\n      [section]: copy\n    });\n  };\n  const addRow = (section, template) => {\n    setForm(s => ({\n      ...s,\n      [section]: [...s[section], template]\n    }));\n  };\n  const addProjectKeyPoint = projectIndex => {\n    const projects = [...form.projects];\n    projects[projectIndex].keyPoints = projects[projectIndex].keyPoints || [\"\"];\n    projects[projectIndex].keyPoints.push(\"\");\n    setForm({\n      ...form,\n      projects\n    });\n  };\n  const updateProjectKeyPoint = (projectIndex, kpIndex, value) => {\n    const projects = [...form.projects];\n    projects[projectIndex].keyPoints[kpIndex] = value;\n    setForm({\n      ...form,\n      projects\n    });\n  };\n\n  // Build AI prompt\n  const buildPrompt = () => {\n    const skillsText = form.skills.filter(Boolean).join(\", \") || \"N/A\";\n    return `\nWrite a professional resume summary for a ${form.role || \"professional\"} with ${form.totalExperienceYear || 0} year(s) of experience. if years\nHighlight these skills: ${skillsText}.\nKeep it concise (<= 100 words), results-focused, and suitable for a recruiter.\n`.trim();\n  };\n\n  // call backend AI endpoint\n  const generateSummary = async () => {\n    setLoading(true);\n    try {\n      var _ref, _ref2, _res$data$summary, _res$data, _res$data2, _res$data3;\n      const prompt = buildPrompt();\n      const res = await api.post(\"/ai/generate\", {\n        prompt\n      });\n      // accept several possible shapes\n      console.log(\"reached generateSummaty\");\n      const aiSummary = (_ref = (_ref2 = (_res$data$summary = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.summary) !== null && _res$data$summary !== void 0 ? _res$data$summary : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.result) !== null && _ref2 !== void 0 ? _ref2 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.data) !== null && _ref !== void 0 ? _ref : \"\";\n      setSummary(aiSummary);\n      return aiSummary;\n    } catch (err) {\n      var _err$response$data, _err$response;\n      console.error(\"AI generation error:\", (_err$response$data = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) !== null && _err$response$data !== void 0 ? _err$response$data : err === null || err === void 0 ? void 0 : err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // SAFE preview html generator (matches backend PDF layout)\n  const buildPreviewHtml = resolvedSummary => {\n    const clean = x => x && String(x).trim() ? String(x).trim() : \"\";\n    const eduHtml = (form.education || []).filter(e => clean(e.institute)).map(e => `\n      <div class=\"edu-item\">\n        <div class=\"row-space\">\n          <strong>${clean(e.institute)}</strong>\n          <span>${clean(e.startYear)}${clean(e.startYear) || clean(e.endYear) ? \" - \" : \"\"}${clean(e.endYear)}</span>\n        </div>\n        <div class=\"left-row muted\">\n          ${clean(e.eduType)}${clean(e.department) ? ` ‚Äî ${clean(e.department)}` : \"\"}${clean(e.score) ? ` ‚Äî ${clean(e.score)}` : \"\"}\n        </div>\n      </div>`).join(\"\");\n    const expHtml = (form.experience || []).filter(e => clean(e.role) || clean(e.company)).map(e => `\n      <div class=\"exp-item\">\n        <div class=\"row-space\">\n          <strong>${clean(e.role)}</strong>\n          <span>${clean(e.duration)}</span>\n        </div>\n        <div class=\"left-row muted\">${clean(e.company)}</div>\n        ${clean(e.activities) ? `<div class=\"left-row\">${clean(e.activities)}</div>` : \"\"}\n      </div>`).join(\"\");\n    const projectsHtml = (form.projects || []).filter(p => clean(p.name)).map(p => {\n      var _p$keyPoints;\n      return `\n      <div class=\"proj-item\">\n        <div class=\"row-space\">\n          <strong>${clean(p.name)}</strong>\n          <span>${clean(p.link) ? `<a href=\"${clean(p.link)}\" target=\"_blank\" rel=\"noreferrer\">${clean(p.link)}</a>` : \"\"}</span>\n        </div>\n        ${clean(p.description) ? `<div class=\"left-row muted\">${clean(p.description)}</div>` : \"\"}\n        ${(_p$keyPoints = p.keyPoints) !== null && _p$keyPoints !== void 0 && _p$keyPoints.filter(kp => clean(kp)).length ? `<ul class=\"kp-list left-row\">${p.keyPoints.filter(kp => clean(kp)).map(kp => `<li>${kp}</li>`).join(\"\")}</ul>` : \"\"}\n        ${clean(p.technologies) ? `<div class=\"left-row muted\"><strong>Tech Used:</strong> ${clean(p.technologies)}</div>` : \"\"}\n      </div>`;\n    }).join(\"\");\n    const certHtml = (form.certificates || []).filter(c => clean(c.title)).map(c => `\n      <div class=\"cert-item\">\n        <strong>${clean(c.title)}</strong>\n        <div class=\"left-row muted\">${clean(c.issuedBy) || \"\"}${clean(c.issuedOn) ? ` ‚Äî ${clean(c.issuedOn)}` : \"\"}</div>\n        ${clean(c.credential) ? `<div class=\"left-row\"><a href=\"${clean(c.credential)}\" target=\"_blank\" rel=\"noreferrer\">${clean(c.credential)}</a></div>` : \"\"}\n      </div>`).join(\"\");\n    const skillsHtml = form.skills.filter(Boolean).length ? `<div class=\"skills-wrap\">${form.skills.filter(Boolean).map(s => `<span class=\"skill-pill\">${s}</span>`).join(\" \")}</div>` : \"\";\n    return `\n      <div class=\"preview-root\">\n        <h1 class=\"center\">${clean(form.name) || \"\"}</h1>\n        <div class=\"center muted\">${clean(form.role) || \"\"}</div>\n\n        <div class=\"contact center\">\n          ${clean(form.emailId) ? `üìß ${clean(form.emailId)} ` : \"\"}\n          ${clean(form.phoneNo) ? ` | üìû ${clean(form.phoneNo)} ` : \"\"}\n          ${clean(form.linkedIn) ? ` | üîó ${clean(form.linkedIn)} ` : \"\"}\n          ${clean(form.portfolioLink) ? ` | üåê ${clean(form.portfolioLink)}` : \"\"}\n        </div>\n\n        ${resolvedSummary ? `<h3>Professional Summary</h3><hr/><div class=\"section-body\">${resolvedSummary}</div>` : \"\"}\n\n        ${eduHtml ? `<h3>Education</h3><hr/><div class=\"section-body\">${eduHtml}</div>` : \"\"}\n        ${expHtml ? `<h3>Experience</h3><hr/><div class=\"section-body\">${expHtml}</div>` : \"\"}\n        ${projectsHtml ? `<h3>Projects</h3><hr/><div class=\"section-body\">${projectsHtml}</div>` : \"\"}\n        ${certHtml ? `<h3>Certificates</h3><hr/><div class=\"section-body\">${certHtml}</div>` : \"\"}\n        ${skillsHtml ? `<h3>Skills</h3><hr/><div class=\"section-body\">${skillsHtml}</div>` : \"\"}\n      </div>\n    `;\n  };\n\n  // generic inline handlers for backward compatibility\n  const handleChange = (section, index, field, value) => {\n    if (index === null && field === null) {\n      setForm({\n        ...form,\n        [section]: value\n      });\n      return;\n    }\n    const updated = [...form[section]];\n    updated[index] = {\n      ...updated[index],\n      [field]: value\n    };\n    setForm({\n      ...form,\n      [section]: updated\n    });\n  };\n  const addField = (section, newItem) => {\n    setForm(prev => ({\n      ...prev,\n      [section]: [...prev[section], newItem]\n    }));\n  };\n\n  // handle preview navigation\n  const handlePreview = async () => {\n    try {\n      // üîî SHOW ALERT BEFORE GENERATING SUMMARY\n      setLoading(true);\n      const previewHtml = buildPreviewHtml(aiSummary);\n      navigate(\"/preview\", {\n        state: {\n          form,\n          gensummary,\n          previewHtml\n        }\n      });\n    } catch (err) {\n      alert(\"Error generating Summary ‚Äî please check network or API key.\");\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const saveResumeHandler = async () => {\n    try {\n      var _res$data4;\n      setLoading(true);\n      const res = await api.post(\"/portfolio\", form); // Make sure auth token is set in api instance\n      if ((_res$data4 = res.data) !== null && _res$data4 !== void 0 && _res$data4.success) {\n        alert(\"‚úÖ Resume data saved successfully!\");\n      } else {\n        alert(\"‚ùå Failed to save resume data.\");\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"‚ùå Error saving resume data.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rb-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AI Resume Builder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"resume-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Personal Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Full Name\",\n          value: form.name,\n          onChange: e => setScalar(\"name\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Role / Title\",\n          value: form.role,\n          onChange: e => setScalar(\"role\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Email ID\",\n          value: form.emailId,\n          onChange: e => setScalar(\"emailId\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Phone Number\",\n          value: form.phoneNo,\n          onChange: e => setScalar(\"phoneNo\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"LinkedIn URL\",\n          value: form.linkedIn,\n          onChange: e => setScalar(\"linkedIn\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Portfolio Link\",\n          value: form.portfolioLink,\n          onChange: e => setScalar(\"portfolioLink\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Total Experience (Years)\",\n          value: form.totalExperienceYear,\n          onChange: e => setScalar(\"totalExperienceYear\", Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"section-title\",\n      children: \"Education\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"input-label\",\n        children: \"Highest Qualification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: form.highestEducation || \"\",\n        onChange: e => handleChange(\"highestEducation\", null, null, e.target.value),\n        className: \"select-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Highest Qualification\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MA\",\n          children: \"MA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MBA\",\n          children: \"MBA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MCA\",\n          children: \"MCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"MSc\",\n          children: \"MSc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"B.Tech\",\n          children: \"B.Tech\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"B.Com\",\n          children: \"B.Com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"B.Sc\",\n          children: \"B.Sc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Diploma\",\n          children: \"Diploma\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"12th\",\n          children: \"Higher Secondary (12th)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10th\",\n          children: \"SSLC / 10th\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), form.education.map((edu, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Institute Name\",\n          value: edu.institute,\n          onChange: e => handleChange(\"education\", idx, \"institute\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Start Year\",\n          value: edu.startYear,\n          onChange: e => handleChange(\"education\", idx, \"startYear\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"End Year\",\n          value: edu.endYear,\n          onChange: e => handleChange(\"education\", idx, \"endYear\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: edu.eduType,\n          onChange: e => handleChange(\"education\", idx, \"eduType\", e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Education Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Masters\",\n            children: \"Masters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Bachelor\",\n            children: \"Bachelor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Diploma\",\n            children: \"Diploma\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Higher Secondary\",\n            children: \"Higher Secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"SSLC\",\n            children: \"SSLC / 10th\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Department / Stream\",\n          value: edu.department,\n          onChange: e => handleChange(\"education\", idx, \"department\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"CGPA / Percentage\",\n          value: edu.score,\n          onChange: e => handleChange(\"education\", idx, \"score\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"add-btn\",\n      onClick: () => addField(\"education\", {\n        institute: \"\",\n        city: \"\",\n        startYear: \"\",\n        endYear: \"\",\n        eduType: \"\",\n        department: \"\",\n        score: \"\"\n      }),\n      children: \"+ Add Education Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"resume-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), form.experience.map((ex, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Role\",\n            value: ex.role,\n            onChange: e => updateArrayField(\"experience\", i, \"role\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Company\",\n            value: ex.company,\n            onChange: e => updateArrayField(\"experience\", i, \"company\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Duration\",\n            value: ex.duration,\n            onChange: e => updateArrayField(\"experience\", i, \"duration\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Activities\",\n            value: ex.activities,\n            onChange: e => updateArrayField(\"experience\", i, \"activities\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => addRow(\"experience\", {\n          role: \"\",\n          company: \"\",\n          duration: \"\",\n          activities: \"\"\n        }),\n        children: \"+ Add Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"resume-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Projects\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), form.projects.map((p, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Project Name\",\n          value: p.name,\n          onChange: e => updateArrayField(\"projects\", i, \"name\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Short Description\",\n          value: p.description,\n          onChange: e => updateArrayField(\"projects\", i, \"description\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Technologies (comma separated)\",\n          value: p.technologies,\n          onChange: e => updateArrayField(\"projects\", i, \"technologies\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Project Link\",\n          value: p.link,\n          onChange: e => updateArrayField(\"projects\", i, \"link\", e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"keypoints\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Key Points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), p.keyPoints.map((kp, kpi) => /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Key point\",\n            value: kp,\n            onChange: e => updateProjectKeyPoint(i, kpi, e.target.value)\n          }, kpi, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-mini\",\n            onClick: () => addProjectKeyPoint(i),\n            children: \"+ Add Key Point\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => addRow(\"projects\", {\n          name: \"\",\n          description: \"\",\n          technologies: \"\",\n          keyPoints: [\"\"],\n          link: \"\"\n        }),\n        children: \"+ Add Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"resume-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Certificates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), form.certificates.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Title\",\n            value: c.title,\n            onChange: e => updateArrayField(\"certificates\", i, \"title\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Issued By\",\n            value: c.issuedBy,\n            onChange: e => updateArrayField(\"certificates\", i, \"issuedBy\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Issued On\",\n            value: c.issuedOn,\n            onChange: e => updateArrayField(\"certificates\", i, \"issuedOn\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Credential Link / ID\",\n            value: c.credential,\n            onChange: e => updateArrayField(\"certificates\", i, \"credential\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => addRow(\"certificates\", {\n          title: \"\",\n          issuedBy: \"\",\n          issuedOn: \"\",\n          credential: \"\"\n        }),\n        children: \"+ Add Certificate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"resume-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Skills\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), form.skills.map((s, i) => /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Skill\",\n        value: s,\n        onChange: e => updateArrayField(\"skills\", i, null, e.target.value)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: () => addRow(\"skills\", \"\"),\n        children: \"+ Add Skill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-box\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-secondary\",\n        onClick: saveResumeHandler,\n        disabled: loading,\n        children: \"Save Resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: async () => {\n          try {\n            setSummaryLoading(true);\n            const aiSummary = await generateSummary();\n            console.log(\"reached gen\");\n            // Remove all asterisks from AI-generated summary\n            setSummary(aiSummary.replace(/\\*/g, \"\"));\n          } catch (err) {\n            alert(\"Error generating summary ‚Äî please check network or API key.\");\n          } finally {\n            setSummaryLoading(false);\n          }\n        },\n        disabled: loading,\n        children: gensummary ? \"Generate Another\" : \"Generate Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: summaryLoading ? \"Loading.....\" : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), gensummary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"generated-summary mt-3\",\n        style: {\n          padding: \"10px\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"6px\",\n          background: \"#f9f9f9\"\n        },\n        children: gensummary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-box\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-primary\",\n        onClick: () => {\n          if (!gensummary) {\n            alert(\"Please generate a summary first!\");\n            return;\n          }\n          const previewHtml = buildPreviewHtml(gensummary);\n          navigate(\"/preview\", {\n            state: {\n              form,\n              gensummary,\n              previewHtml\n            }\n          });\n        },\n        disabled: !gensummary,\n        children: \"Preview Resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n};\n_s(ResumeBuilder, \"5O5frxrMLJMcrv2F3Ia7No96Xec=\", false, function () {\n  return [useNavigate];\n});\n_c = ResumeBuilder;\nexport default ResumeBuilder;\nvar _c;\n$RefreshReg$(_c, \"ResumeBuilder\");","map":{"version":3,"names":["React","useState","useNavigate","api","jsxDEV","_jsxDEV","ResumeBuilder","_s","navigate","form","setForm","name","emailId","linkedIn","portfolioLink","phoneNo","role","totalExperienceYear","summary","education","institute","city","startYear","endYear","eduType","department","score","experience","company","duration","activities","projects","description","technologies","keyPoints","link","certificates","title","issuedBy","issuedOn","credential","skills","highestEducation","gensummary","setSummary","summaryLoading","setSummaryLoading","loading","setLoading","setScalar","key","value","s","updateArrayField","section","index","field","copy","addRow","template","addProjectKeyPoint","projectIndex","push","updateProjectKeyPoint","kpIndex","buildPrompt","skillsText","filter","Boolean","join","trim","generateSummary","_ref","_ref2","_res$data$summary","_res$data","_res$data2","_res$data3","prompt","res","post","console","log","aiSummary","data","result","err","_err$response$data","_err$response","error","response","message","buildPreviewHtml","resolvedSummary","clean","x","String","eduHtml","e","map","expHtml","projectsHtml","p","_p$keyPoints","kp","length","certHtml","c","skillsHtml","handleChange","updated","addField","newItem","prev","handlePreview","previewHtml","state","alert","saveResumeHandler","_res$data4","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","target","type","Number","edu","idx","onClick","ex","i","kpi","disabled","replace","style","padding","border","borderRadius","background","_c","$RefreshReg$"],"sources":["D:/Assignments/shibili-ai-resume-builder/frontend/src/components/ResumeBuilder.js"],"sourcesContent":["// src/components/ResumeBuilder.jsx\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../api\"; // your axios instance\r\nimport \"../styles/ResumeBuilder.css\";\r\n\r\nconst ResumeBuilder = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    emailId: \"\",\r\n    linkedIn: \"\",\r\n    portfolioLink: \"\",\r\n    phoneNo: \"\",\r\n    role: \"\",\r\n    totalExperienceYear: \"\",\r\n    summary:\"\",\r\n    education: [\r\n      { institute: \"\", city: \"\", startYear: \"\", endYear: \"\", eduType: \"\", department: \"\", score: \"\" }\r\n    ],\r\n\r\n    experience: [{ role: \"\", company: \"\", duration: \"\", activities: \"\" }],\r\n    projects: [{ name: \"\", description: \"\", technologies: \"\", keyPoints: [\"\"], link: \"\" }],\r\n    certificates: [{ title: \"\", issuedBy: \"\", issuedOn: \"\", credential: \"\" }],\r\n    skills: [\"\"],\r\n    highestEducation: \"\",\r\n  });\r\n\r\n  const [gensummary, setSummary] = useState(\"\");\r\n  const [summaryLoading, setSummaryLoading] = useState(false)\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // scalar setter\r\n  const setScalar = (key, value) => setForm((s) => ({ ...s, [key]: value }));\r\n\r\n  // update any array-based field\r\n  const updateArrayField = (section, index, field, value) => {\r\n    const copy = [...form[section]];\r\n    if (field === null) {\r\n      copy[index] = value;\r\n    } else {\r\n      copy[index] = { ...copy[index], [field]: value };\r\n    }\r\n    setForm({ ...form, [section]: copy });\r\n  };\r\n\r\n  const addRow = (section, template) => {\r\n    setForm((s) => ({ ...s, [section]: [...s[section], template] }));\r\n  };\r\n\r\n  const addProjectKeyPoint = (projectIndex) => {\r\n    const projects = [...form.projects];\r\n    projects[projectIndex].keyPoints = projects[projectIndex].keyPoints || [\"\"];\r\n    projects[projectIndex].keyPoints.push(\"\");\r\n    setForm({ ...form, projects });\r\n  };\r\n\r\n  const updateProjectKeyPoint = (projectIndex, kpIndex, value) => {\r\n    const projects = [...form.projects];\r\n    projects[projectIndex].keyPoints[kpIndex] = value;\r\n    setForm({ ...form, projects });\r\n  };\r\n\r\n  // Build AI prompt\r\n  const buildPrompt = () => {\r\n    const skillsText = form.skills.filter(Boolean).join(\", \") || \"N/A\";\r\n    return `\r\nWrite a professional resume summary for a ${form.role || \"professional\"} with ${form.totalExperienceYear || 0} year(s) of experience. if years\r\nHighlight these skills: ${skillsText}.\r\nKeep it concise (<= 100 words), results-focused, and suitable for a recruiter.\r\n`.trim();\r\n  };\r\n\r\n  // call backend AI endpoint\r\n  const generateSummary = async () => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const prompt = buildPrompt();\r\n      \r\n      const res = await api.post(\"/ai/generate\", { prompt });\r\n      // accept several possible shapes\r\n      console.log(\"reached generateSummaty\")\r\n      const aiSummary = res.data?.summary ?? res.data?.result ?? res.data?.data ?? \"\";\r\n      setSummary(aiSummary);\r\n      return aiSummary;\r\n    } catch (err) {\r\n      console.error(\"AI generation error:\", err?.response?.data ?? err?.message);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // SAFE preview html generator (matches backend PDF layout)\r\n  const buildPreviewHtml = (resolvedSummary) => {\r\n    const clean = (x) => (x && String(x).trim() ? String(x).trim() : \"\");\r\n\r\n    const eduHtml = (form.education || [])\r\n      .filter((e) => clean(e.institute))\r\n      .map(\r\n        (e) => `\r\n      <div class=\"edu-item\">\r\n        <div class=\"row-space\">\r\n          <strong>${clean(e.institute)}</strong>\r\n          <span>${clean(e.startYear)}${(clean(e.startYear) || clean(e.endYear)) ? \" - \" : \"\"}${clean(e.endYear)}</span>\r\n        </div>\r\n        <div class=\"left-row muted\">\r\n          ${clean(e.eduType)}${clean(e.department) ? ` ‚Äî ${clean(e.department)}` : \"\"}${clean(e.score) ? ` ‚Äî ${clean(e.score)}` : \"\"}\r\n        </div>\r\n      </div>`\r\n      )\r\n      .join(\"\");\r\n\r\n    const expHtml = (form.experience || [])\r\n      .filter((e) => clean(e.role) || clean(e.company))\r\n      .map(\r\n        (e) => `\r\n      <div class=\"exp-item\">\r\n        <div class=\"row-space\">\r\n          <strong>${clean(e.role)}</strong>\r\n          <span>${clean(e.duration)}</span>\r\n        </div>\r\n        <div class=\"left-row muted\">${clean(e.company)}</div>\r\n        ${clean(e.activities) ? `<div class=\"left-row\">${clean(e.activities)}</div>` : \"\"}\r\n      </div>`\r\n      )\r\n      .join(\"\");\r\n\r\n    const projectsHtml = (form.projects || [])\r\n      .filter((p) => clean(p.name))\r\n      .map(\r\n        (p) => `\r\n      <div class=\"proj-item\">\r\n        <div class=\"row-space\">\r\n          <strong>${clean(p.name)}</strong>\r\n          <span>${clean(p.link) ? `<a href=\"${clean(p.link)}\" target=\"_blank\" rel=\"noreferrer\">${clean(p.link)}</a>` : \"\"}</span>\r\n        </div>\r\n        ${clean(p.description) ? `<div class=\"left-row muted\">${clean(p.description)}</div>` : \"\"}\r\n        ${\r\n          p.keyPoints?.filter((kp) => clean(kp)).length\r\n            ? `<ul class=\"kp-list left-row\">${p.keyPoints.filter((kp) => clean(kp)).map((kp) => `<li>${kp}</li>`).join(\"\")}</ul>`\r\n            : \"\"\r\n        }\r\n        ${clean(p.technologies) ? `<div class=\"left-row muted\"><strong>Tech Used:</strong> ${clean(p.technologies)}</div>` : \"\"}\r\n      </div>`\r\n      )\r\n      .join(\"\");\r\n\r\n    const certHtml = (form.certificates || [])\r\n      .filter((c) => clean(c.title))\r\n      .map(\r\n        (c) => `\r\n      <div class=\"cert-item\">\r\n        <strong>${clean(c.title)}</strong>\r\n        <div class=\"left-row muted\">${clean(c.issuedBy) || \"\"}${clean(c.issuedOn) ? ` ‚Äî ${clean(c.issuedOn)}` : \"\"}</div>\r\n        ${clean(c.credential) ? `<div class=\"left-row\"><a href=\"${clean(c.credential)}\" target=\"_blank\" rel=\"noreferrer\">${clean(c.credential)}</a></div>` : \"\"}\r\n      </div>`\r\n      )\r\n      .join(\"\");\r\n\r\n    const skillsHtml = form.skills.filter(Boolean).length\r\n      ? `<div class=\"skills-wrap\">${form.skills.filter(Boolean).map((s) => `<span class=\"skill-pill\">${s}</span>`).join(\" \")}</div>`\r\n      : \"\";\r\n\r\n    return `\r\n      <div class=\"preview-root\">\r\n        <h1 class=\"center\">${clean(form.name) || \"\"}</h1>\r\n        <div class=\"center muted\">${clean(form.role) || \"\"}</div>\r\n\r\n        <div class=\"contact center\">\r\n          ${clean(form.emailId) ? `üìß ${clean(form.emailId)} ` : \"\"}\r\n          ${clean(form.phoneNo) ? ` | üìû ${clean(form.phoneNo)} ` : \"\"}\r\n          ${clean(form.linkedIn) ? ` | üîó ${clean(form.linkedIn)} ` : \"\"}\r\n          ${clean(form.portfolioLink) ? ` | üåê ${clean(form.portfolioLink)}` : \"\"}\r\n        </div>\r\n\r\n        ${resolvedSummary ? `<h3>Professional Summary</h3><hr/><div class=\"section-body\">${resolvedSummary}</div>` : \"\"}\r\n\r\n        ${eduHtml ? `<h3>Education</h3><hr/><div class=\"section-body\">${eduHtml}</div>` : \"\"}\r\n        ${expHtml ? `<h3>Experience</h3><hr/><div class=\"section-body\">${expHtml}</div>` : \"\"}\r\n        ${projectsHtml ? `<h3>Projects</h3><hr/><div class=\"section-body\">${projectsHtml}</div>` : \"\"}\r\n        ${certHtml ? `<h3>Certificates</h3><hr/><div class=\"section-body\">${certHtml}</div>` : \"\"}\r\n        ${skillsHtml ? `<h3>Skills</h3><hr/><div class=\"section-body\">${skillsHtml}</div>` : \"\"}\r\n      </div>\r\n    `;\r\n  };\r\n\r\n  // generic inline handlers for backward compatibility\r\n  const handleChange = (section, index, field, value) => {\r\n    if (index === null && field === null) {\r\n      setForm({ ...form, [section]: value });\r\n      return;\r\n    }\r\n    const updated = [...form[section]];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n    setForm({ ...form, [section]: updated });\r\n  };\r\n\r\n  const addField = (section, newItem) => {\r\n    setForm((prev) => ({ ...prev, [section]: [...prev[section], newItem] }));\r\n  };\r\n\r\n  // handle preview navigation\r\n  const handlePreview = async () => {\r\n  try {\r\n    // üîî SHOW ALERT BEFORE GENERATING SUMMARY\r\n    setLoading(true);\r\n\r\n    \r\n    const previewHtml = buildPreviewHtml(aiSummary);\r\n\r\n    navigate(\"/preview\", {\r\n  state: {\r\n    form,\r\n    gensummary,\r\n    previewHtml\r\n  }\r\n});\r\n\r\n\r\n  } catch (err) {\r\n    alert(\"Error generating Summary ‚Äî please check network or API key.\");\r\n    console.error(err);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nconst saveResumeHandler = async () => {\r\n  try {\r\n    setLoading(true);\r\n    const res = await api.post(\"/portfolio\", form); // Make sure auth token is set in api instance\r\n    if (res.data?.success) {\r\n      alert(\"‚úÖ Resume data saved successfully!\");\r\n    } else {\r\n      alert(\"‚ùå Failed to save resume data.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(\"‚ùå Error saving resume data.\");\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"rb-root\">\r\n      <h2>AI Resume Builder</h2>\r\n\r\n      <section className=\"resume-section\">\r\n        <h3>Personal Details</h3>\r\n        <div className=\"grid-2\">\r\n          <input placeholder=\"Full Name\" value={form.name} onChange={(e) => setScalar(\"name\", e.target.value)} />\r\n          <input placeholder=\"Role / Title\" value={form.role} onChange={(e) => setScalar(\"role\", e.target.value)} />\r\n          <input placeholder=\"Email ID\" value={form.emailId} onChange={(e) => setScalar(\"emailId\", e.target.value)} />\r\n          <input placeholder=\"Phone Number\" value={form.phoneNo} onChange={(e) => setScalar(\"phoneNo\", e.target.value)} />\r\n          <input placeholder=\"LinkedIn URL\" value={form.linkedIn} onChange={(e) => setScalar(\"linkedIn\", e.target.value)} />\r\n          <input placeholder=\"Portfolio Link\" value={form.portfolioLink} onChange={(e) => setScalar(\"portfolioLink\", e.target.value)} />\r\n          <input type=\"number\" placeholder=\"Total Experience (Years)\" value={form.totalExperienceYear} onChange={(e) => setScalar(\"totalExperienceYear\", Number(e.target.value))} />\r\n        </div>\r\n      </section>\r\n\r\n      <h3 className=\"section-title\">Education</h3>\r\n\r\n      <div className=\"section-box\">\r\n        <label className=\"input-label\">Highest Qualification</label>\r\n        <select value={form.highestEducation || \"\"} onChange={(e) => handleChange(\"highestEducation\", null, null, e.target.value)} className=\"select-input\">\r\n          <option value=\"\">Select Highest Qualification</option>\r\n          <option value=\"MA\">MA</option>\r\n          <option value=\"MBA\">MBA</option>\r\n          <option value=\"MCA\">MCA</option>\r\n          <option value=\"MSc\">MSc</option>\r\n          <option value=\"B.Tech\">B.Tech</option>\r\n          <option value=\"B.Com\">B.Com</option>\r\n          <option value=\"B.Sc\">B.Sc</option>\r\n          <option value=\"Diploma\">Diploma</option>\r\n          <option value=\"12th\">Higher Secondary (12th)</option>\r\n          <option value=\"10th\">SSLC / 10th</option>\r\n        </select>\r\n      </div>\r\n\r\n      {form.education.map((edu, idx) => (\r\n        <div className=\"section-box\" key={idx}>\r\n          <div className=\"row-flex\">\r\n            <input placeholder=\"Institute Name\" value={edu.institute} onChange={(e) => handleChange(\"education\", idx, \"institute\", e.target.value)} />\r\n            <input placeholder=\"Start Year\" value={edu.startYear} onChange={(e) => handleChange(\"education\", idx, \"startYear\", e.target.value)} />\r\n            <input placeholder=\"End Year\" value={edu.endYear} onChange={(e) => handleChange(\"education\", idx, \"endYear\", e.target.value)} />\r\n          </div>\r\n\r\n          <div className=\"row-flex\">\r\n            <select value={edu.eduType} onChange={(e) => handleChange(\"education\", idx, \"eduType\", e.target.value)}>\r\n              <option value=\"\">Education Type</option>\r\n              <option value=\"Masters\">Masters</option>\r\n              <option value=\"Bachelor\">Bachelor</option>\r\n              <option value=\"Diploma\">Diploma</option>\r\n              <option value=\"Higher Secondary\">Higher Secondary</option>\r\n              <option value=\"SSLC\">SSLC / 10th</option>\r\n            </select>\r\n\r\n            <input placeholder=\"Department / Stream\" value={edu.department} onChange={(e) => handleChange(\"education\", idx, \"department\", e.target.value)} />\r\n            <input placeholder=\"CGPA / Percentage\" value={edu.score} onChange={(e) => handleChange(\"education\", idx, \"score\", e.target.value)} />\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      <button className=\"add-btn\" onClick={() => addField(\"education\", { institute: \"\", city: \"\", startYear: \"\", endYear: \"\", eduType: \"\", department: \"\", score: \"\" })}>+ Add Education Entry</button>\r\n\r\n      <section className=\"resume-section\">\r\n        <h3>Experience</h3>\r\n        {form.experience.map((ex, i) => (\r\n          <div key={i} className=\"section-box\">\r\n            <div className=\"grid-2\">\r\n              <input placeholder=\"Role\" value={ex.role} onChange={(e) => updateArrayField(\"experience\", i, \"role\", e.target.value)} />\r\n              <input placeholder=\"Company\" value={ex.company} onChange={(e) => updateArrayField(\"experience\", i, \"company\", e.target.value)} />\r\n              <input placeholder=\"Duration\" value={ex.duration} onChange={(e) => updateArrayField(\"experience\", i, \"duration\", e.target.value)} />\r\n              <input placeholder=\"Activities\" value={ex.activities} onChange={(e) => updateArrayField(\"experience\", i, \"activities\", e.target.value)} />\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <button className=\"btn-secondary\" onClick={() => addRow(\"experience\", { role: \"\", company: \"\", duration: \"\", activities: \"\" })}>+ Add Experience</button>\r\n      </section>\r\n\r\n      <section className=\"resume-section\">\r\n        <h3>Projects</h3>\r\n        {form.projects.map((p, i) => (\r\n          <div key={i} className=\"project-block\">\r\n            <input placeholder=\"Project Name\" value={p.name} onChange={(e) => updateArrayField(\"projects\", i, \"name\", e.target.value)} />\r\n            <input placeholder=\"Short Description\" value={p.description} onChange={(e) => updateArrayField(\"projects\", i, \"description\", e.target.value)} />\r\n            <input placeholder=\"Technologies (comma separated)\" value={p.technologies} onChange={(e) => updateArrayField(\"projects\", i, \"technologies\", e.target.value)} />\r\n            <input placeholder=\"Project Link\" value={p.link} onChange={(e) => updateArrayField(\"projects\", i, \"link\", e.target.value)} />\r\n\r\n            <div className=\"keypoints\">\r\n              <h4>Key Points</h4>\r\n              {p.keyPoints.map((kp, kpi) => (\r\n                <input key={kpi} placeholder=\"Key point\" value={kp} onChange={(e) => updateProjectKeyPoint(i, kpi, e.target.value)} />\r\n              ))}\r\n              <button className=\"btn-mini\" onClick={() => addProjectKeyPoint(i)}>+ Add Key Point</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <button className=\"btn-secondary\" onClick={() => addRow(\"projects\", { name: \"\", description: \"\", technologies: \"\", keyPoints: [\"\"], link: \"\" })}>+ Add Project</button>\r\n      </section>\r\n\r\n      <section className=\"resume-section\">\r\n        <h3>Certificates</h3>\r\n        {form.certificates.map((c, i) => (\r\n          <div key={i} className=\"section-box\">\r\n            <div className=\"grid-2\">\r\n              <input placeholder=\"Title\" value={c.title} onChange={(e) => updateArrayField(\"certificates\", i, \"title\", e.target.value)} />\r\n              <input placeholder=\"Issued By\" value={c.issuedBy} onChange={(e) => updateArrayField(\"certificates\", i, \"issuedBy\", e.target.value)} />\r\n              <input placeholder=\"Issued On\" value={c.issuedOn} onChange={(e) => updateArrayField(\"certificates\", i, \"issuedOn\", e.target.value)} />\r\n              <input placeholder=\"Credential Link / ID\" value={c.credential} onChange={(e) => updateArrayField(\"certificates\", i, \"credential\", e.target.value)} />\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <button className=\"btn-secondary\" onClick={() => addRow(\"certificates\", { title: \"\", issuedBy: \"\", issuedOn: \"\", credential: \"\" })}>+ Add Certificate</button>\r\n      </section>\r\n\r\n      <section className=\"resume-section\">\r\n        <h3>Skills</h3>\r\n        {form.skills.map((s, i) => (\r\n          <input key={i} placeholder=\"Skill\" value={s} onChange={(e) => updateArrayField(\"skills\", i, null, e.target.value)} />\r\n        ))}\r\n        <button className=\"btn-secondary\" onClick={() => addRow(\"skills\", \"\")}>+ Add Skill</button>\r\n      </section>\r\n      <div className=\"center-box\">\r\n  <button\r\n    className=\"btn-secondary\"\r\n    onClick={saveResumeHandler}\r\n    disabled={loading}\r\n  >\r\n    Save Resume\r\n  </button>\r\n</div>\r\n\r\n    <div className=\"center-box\">\r\n      <button\r\n        className=\"btn-primary\"\r\n        onClick={async () => {\r\n          try {\r\n            setSummaryLoading(true);\r\n            const aiSummary = await generateSummary();\r\n            console.log(\"reached gen\")\r\n            // Remove all asterisks from AI-generated summary\r\n            setSummary(aiSummary.replace(/\\*/g, \"\"));\r\n          } catch (err) {\r\n            alert(\"Error generating summary ‚Äî please check network or API key.\");\r\n          } finally {\r\n            setSummaryLoading(false);\r\n          }\r\n        }}\r\n        disabled={loading}\r\n      >\r\n        {gensummary ? \"Generate Another\" : \"Generate Summary\"}\r\n        \r\n      </button>\r\n        <p>{summaryLoading ? \"Loading.....\" : \"\"}</p>\r\n      {gensummary && (\r\n        <div\r\n          className=\"generated-summary mt-3\"\r\n          style={{\r\n            padding: \"10px\",\r\n            border: \"1px solid #ddd\",\r\n            borderRadius: \"6px\",\r\n            background: \"#f9f9f9\",\r\n          }}\r\n        >\r\n          {gensummary}\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    <div className=\"center-box\">\r\n      <button\r\n        className=\"btn-primary\"\r\n        onClick={() => {\r\n          if (!gensummary) {\r\n            alert(\"Please generate a summary first!\");\r\n            return;\r\n          }\r\n          const previewHtml = buildPreviewHtml(gensummary);\r\n          navigate(\"/preview\", { state: { form, gensummary, previewHtml } });\r\n        }}\r\n        disabled={!gensummary}\r\n      >\r\n        Preview Resume\r\n      </button>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResumeBuilder;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}